<!DOCTYPE html>
<html>
  <head>
    <title>Ch·ªâ ƒë∆∞·ªùng v·ªõi Google Maps</title>
    <meta charset="utf-8" />
    <style>
      #map {
        height: 500px;
        width: 100%;
        margin-top: 10px;
      }
      input {
        width: 90%;
        padding: 8px;
        margin: 5px auto;
        display: block;
        font-size: 16px;
      }
      button {
        display: block;
        margin: 10px auto;
        padding: 10px 20px;
        font-size: 16px;
      }
    </style>
  </head>
  <body>
    <h2 style="text-align:center;">üó∫Ô∏è G·ª£i √Ω & Ch·ªâ ƒë∆∞·ªùng (Google Maps)</h2>
    <input id="origin-input" type="text" placeholder="ƒêi·ªÉm ƒëi..." />
    <input id="destination-input" type="text" placeholder="ƒêi·ªÉm ƒë·∫øn..." />
    <button onclick="calculateRoute()">üöó T√≠nh l·ªô tr√¨nh</button>
    <div id="map"></div>

    <script>
      let map, directionsService, directionsRenderer;

      function initMap() {
        map = new google.maps.Map(document.getElementById("map"), {
          center: { lat: 21.0285, lng: 105.8542 }, // H√† N·ªôi
          zoom: 13,
        });

        directionsService = new google.maps.DirectionsService();
        directionsRenderer = new google.maps.DirectionsRenderer();
        directionsRenderer.setMap(map);

        // Autocomplete cho input
        new google.maps.places.Autocomplete(document.getElementById("origin-input"));
        new google.maps.places.Autocomplete(document.getElementById("destination-input"));
      }

      function calculateRoute() {
        const origin = document.getElementById("origin-input").value;
        const destination = document.getElementById("destination-input").value;

        if (!origin || !destination) {
          alert("Vui l√≤ng nh·∫≠p ƒëi·ªÉm ƒëi v√† ƒëi·ªÉm ƒë·∫øn.");
          return;
        }

        directionsService.route(
          {
            origin: origin,
            destination: destination,
            travelMode: google.maps.TravelMode.DRIVING,
          },
          (response, status) => {
            if (status === "OK") {
              directionsRenderer.setDirections(response);
            } else {
              alert("Kh√¥ng t√¨m th·∫•y tuy·∫øn ƒë∆∞·ªùng: " + status);
            }
          }
        );
      }
    </script>

    <!-- D√πng API key m·ªõi c·ªßa b·∫°n -->
    <script async defer
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAwA22DfNHrWxK5CLs8SnQPzqkLcBwe2Kg&libraries=places&callback=initMap">
    </script>
  </body>
</html>
